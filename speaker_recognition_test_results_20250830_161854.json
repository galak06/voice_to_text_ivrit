{
  "file_validation": {
    "test_name": "File Validation",
    "status": "PASSED",
    "details": {
      "file_size_bytes": 1920044,
      "file_size_mb": 1.8310966491699219,
      "file_readable": true,
      "audio_duration_seconds": 60.0,
      "audio_duration_minutes": 1.0
    },
    "timestamp": "2025-08-30T16:18:36.346056"
  },
  "pyannote_availability": {
    "test_name": "Pyannote.audio Availability",
    "status": "FAILED",
    "details": {
      "hf_token_set": true,
      "hf_token_length": 37,
      "token_source": "Loaded from .env file",
      "pyannote_imported": true,
      "pipeline_created": true,
      "model_name": "pyannote/speaker-diarization-3.1",
      "error": "Failed to create pipeline: parameter 'threshold' does not exist"
    },
    "timestamp": "2025-08-30T16:18:37.875120"
  },
  "direct_speaker_recognition": {
    "test_name": "Direct Speaker Recognition",
    "status": "PASSED",
    "details": {
      "processing_time_seconds": 2.0,
      "speakers_detected": 2,
      "total_segments": 2,
      "speaker_details": {
        "SPEAKER_00": {
          "segment_count": 1,
          "total_duration": 30,
          "average_segment_duration": 30.0
        },
        "SPEAKER_01": {
          "segment_count": 1,
          "total_duration": 30,
          "average_segment_duration": 30.0
        }
      }
    },
    "timestamp": "2025-08-30T16:18:46.450077"
  },
  "chunked_speaker_recognition": {
    "test_name": "Chunked Speaker Recognition",
    "status": "FAILED",
    "details": {
      "total_chunks": 3,
      "chunk_duration": 30,
      "test_chunks": 3,
      "chunk_results": [
        {
          "chunk_index": 0,
          "error": "parameter 'threshold' does not exist"
        },
        {
          "chunk_index": 1,
          "error": "parameter 'threshold' does not exist"
        },
        {
          "chunk_index": 2,
          "error": "parameter 'threshold' does not exist"
        }
      ],
      "successful_chunks": 0,
      "error": "All test chunks failed"
    },
    "timestamp": "2025-08-30T16:18:48.526557"
  },
  "chunk_first_speaker_recognition": {
    "test_name": "Fast Chunk-First Speaker Recognition (Single Chunk)",
    "status": "PASSED",
    "details": {
      "chunk_loaded": {
        "chunk_number": 1,
        "start_time": 0.0,
        "end_time": 30.0,
        "duration": 30.0,
        "json_file": "chunk_001_0s_30s.json",
        "json_path": "output/chunk_results/chunk_001_0s_30s.json",
        "text": " לפולין ואני רוצה להזכיר שיש לנו בעצם, שאתה רוצה ללכת לסבים, נכון, ועכשיו אני שואל אותך מה מרגיש לך, את רוצה קודם לגמור, אין לי בעיה, אין לי בעיה, תגיד מה אתה מעדיף, בואי נדבר על פולין ואחרי זה אנחנו נדבר על הסבים אבא ואמא, בסדר? בסדר, אז בואי, פולין, פולין, אז סיפרתי שבסוף מאי",
        "status": "completed",
        "audio_file": "audio_chunk_001_0s_30s.wav",
        "audio_path": "output/audio_chunks/audio_chunk_001_0s_30s.wav",
        "audio_exists": true
      },
      "enhanced_chunk": {
        "chunk_number": 1,
        "start_time": 0.0,
        "end_time": 30.0,
        "duration": 30.0,
        "json_file": "chunk_001_0s_30s.json",
        "json_path": "output/chunk_results/chunk_001_0s_30s.json",
        "text": " לפולין ואני רוצה להזכיר שיש לנו בעצם, שאתה רוצה ללכת לסבים, נכון, ועכשיו אני שואל אותך מה מרגיש לך, את רוצה קודם לגמור, אין לי בעיה, אין לי בעיה, תגיד מה אתה מעדיף, בואי נדבר על פולין ואחרי זה אנחנו נדבר על הסבים אבא ואמא, בסדר? בסדר, אז בואי, פולין, פולין, אז סיפרתי שבסוף מאי",
        "status": "completed",
        "audio_file": "audio_chunk_001_0s_30s.wav",
        "audio_path": "output/audio_chunks/audio_chunk_001_0s_30s.wav",
        "audio_exists": true,
        "speakers_detected": 1,
        "dominant_speaker": "SPEAKER_00",
        "speaker_confidence": 1.0,
        "all_speakers": {
          "SPEAKER_00": 30.0
        },
        "speaker_alignment_method": "single_chunk_fast_test",
        "processing_timestamp": "2025-08-30T16:18:54.636048"
      },
      "processing_method": "single_chunk_fast_test"
    },
    "timestamp": "2025-08-30T16:18:53.672359"
  },
  "output_validation": {
    "test_name": "Output Validation",
    "status": "PASSED",
    "details": {
      "validation_results": {
        "has_speakers": true,
        "exactly_2_speakers": true,
        "min_speakers_met": true,
        "max_speakers_met": true,
        "has_segments": true,
        "reasonable_processing_time": true
      },
      "speaker_summary": {
        "SPEAKER_00": {
          "segment_count": 1,
          "total_duration": 30,
          "average_segment_duration": 30.0,
          "speaking_percentage": 3000.0
        },
        "SPEAKER_01": {
          "segment_count": 1,
          "total_duration": 30,
          "average_segment_duration": 30.0,
          "speaking_percentage": 3000.0
        }
      },
      "quality_score": 1.0
    },
    "timestamp": "2025-08-30T16:18:54.636874"
  },
  "performance_metrics": {
    "test_name": "Performance Metrics",
    "status": "PASSED",
    "details": {
      "total_test_time": 18.29130530357361,
      "processing_efficiency": 30.0,
      "efficiency_description": "30.00x real-time",
      "memory_usage_mb": 791.5625,
      "test_success_rate": 0.6666666666666666,
      "tests_passed": 4,
      "total_tests": 6
    },
    "timestamp": "2025-08-30T16:18:54.637057"
  },
  "final_report": {
    "test_summary": {
      "total_tests": 7,
      "passed_tests": 5,
      "failed_tests": 2,
      "overall_status": "PARTIAL"
    },
    "recommendations": [
      "⚠️ Speaker recognition system has some issues",
      "🔧 Review failed tests and fix issues",
      "🔑 Check HF_TOKEN in .env file and model access",
      "🎯 Perfect! Exactly 2 speakers detected as expected"
    ],
    "timestamp": "2025-08-30T16:18:54.637414",
    "test_duration": 18.29166007041931,
    "optimization": "2_speakers_only"
  }
}